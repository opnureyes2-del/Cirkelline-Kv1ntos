{
  "widgets": [
    {
      "type": "text",
      "x": 0,
      "y": 0,
      "width": 24,
      "height": 1,
      "properties": {
        "markdown": "# Cirkelline System Dashboard\n**Version:** v1.3.5 | **Region:** eu-north-1 | **Last Updated:** 2025-12-17"
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 1,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "ECS CPU Utilization",
        "view": "timeSeries",
        "stacked": false,
        "region": "eu-north-1",
        "metrics": [
          ["AWS/ECS", "CPUUtilization", "ClusterName", "cirkelline-system-cluster", "ServiceName", "cirkelline-system-backend-service", {"stat": "Average", "period": 60}]
        ],
        "annotations": {
          "horizontal": [
            {"label": "Warning", "value": 70, "color": "#ff7f0e"},
            {"label": "Critical", "value": 80, "color": "#d62728"}
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 8,
      "y": 1,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "ECS Memory Utilization",
        "view": "timeSeries",
        "stacked": false,
        "region": "eu-north-1",
        "metrics": [
          ["AWS/ECS", "MemoryUtilization", "ClusterName", "cirkelline-system-cluster", "ServiceName", "cirkelline-system-backend-service", {"stat": "Average", "period": 60}]
        ],
        "annotations": {
          "horizontal": [
            {"label": "Warning", "value": 70, "color": "#ff7f0e"},
            {"label": "Critical", "value": 80, "color": "#d62728"}
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 16,
      "y": 1,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "ECS Task Count",
        "view": "timeSeries",
        "stacked": false,
        "region": "eu-north-1",
        "metrics": [
          ["ECS/ContainerInsights", "RunningTaskCount", "ClusterName", "cirkelline-system-cluster", "ServiceName", "cirkelline-system-backend-service", {"stat": "Average", "period": 60}],
          ["ECS/ContainerInsights", "DesiredTaskCount", "ClusterName", "cirkelline-system-cluster", "ServiceName", "cirkelline-system-backend-service", {"stat": "Average", "period": 60}]
        ]
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 7,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "ALB Request Count",
        "view": "timeSeries",
        "stacked": false,
        "region": "eu-north-1",
        "metrics": [
          ["AWS/ApplicationELB", "RequestCount", "LoadBalancer", "app/cirkelline-system-alb/xxxxx", {"stat": "Sum", "period": 60}]
        ]
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 7,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "ALB Response Time",
        "view": "timeSeries",
        "stacked": false,
        "region": "eu-north-1",
        "metrics": [
          ["AWS/ApplicationELB", "TargetResponseTime", "LoadBalancer", "app/cirkelline-system-alb/xxxxx", {"stat": "Average", "period": 60, "label": "Average"}],
          ["AWS/ApplicationELB", "TargetResponseTime", "LoadBalancer", "app/cirkelline-system-alb/xxxxx", {"stat": "p95", "period": 60, "label": "P95"}],
          ["AWS/ApplicationELB", "TargetResponseTime", "LoadBalancer", "app/cirkelline-system-alb/xxxxx", {"stat": "p99", "period": 60, "label": "P99"}]
        ],
        "annotations": {
          "horizontal": [
            {"label": "SLA", "value": 2, "color": "#d62728"}
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 13,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "ALB HTTP Status Codes",
        "view": "timeSeries",
        "stacked": true,
        "region": "eu-north-1",
        "metrics": [
          ["AWS/ApplicationELB", "HTTPCode_Target_2XX_Count", "LoadBalancer", "app/cirkelline-system-alb/xxxxx", {"stat": "Sum", "period": 60, "color": "#2ca02c"}],
          ["AWS/ApplicationELB", "HTTPCode_Target_4XX_Count", "LoadBalancer", "app/cirkelline-system-alb/xxxxx", {"stat": "Sum", "period": 60, "color": "#ff7f0e"}],
          ["AWS/ApplicationELB", "HTTPCode_Target_5XX_Count", "LoadBalancer", "app/cirkelline-system-alb/xxxxx", {"stat": "Sum", "period": 60, "color": "#d62728"}]
        ]
      }
    },
    {
      "type": "metric",
      "x": 8,
      "y": 13,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "ALB Healthy/Unhealthy Hosts",
        "view": "timeSeries",
        "stacked": false,
        "region": "eu-north-1",
        "metrics": [
          ["AWS/ApplicationELB", "HealthyHostCount", "LoadBalancer", "app/cirkelline-system-alb/xxxxx", "TargetGroup", "targetgroup/cirkelline-backend/xxxxx", {"stat": "Average", "period": 60, "color": "#2ca02c"}],
          ["AWS/ApplicationELB", "UnHealthyHostCount", "LoadBalancer", "app/cirkelline-system-alb/xxxxx", "TargetGroup", "targetgroup/cirkelline-backend/xxxxx", {"stat": "Average", "period": 60, "color": "#d62728"}]
        ]
      }
    },
    {
      "type": "metric",
      "x": 16,
      "y": 13,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "Error Rate %",
        "view": "timeSeries",
        "stacked": false,
        "region": "eu-north-1",
        "metrics": [
          [{"expression": "(m2/m1)*100", "label": "Error Rate %", "id": "e1"}],
          ["AWS/ApplicationELB", "RequestCount", "LoadBalancer", "app/cirkelline-system-alb/xxxxx", {"stat": "Sum", "period": 60, "id": "m1", "visible": false}],
          ["AWS/ApplicationELB", "HTTPCode_Target_5XX_Count", "LoadBalancer", "app/cirkelline-system-alb/xxxxx", {"stat": "Sum", "period": 60, "id": "m2", "visible": false}]
        ],
        "annotations": {
          "horizontal": [
            {"label": "SLA (1%)", "value": 1, "color": "#ff7f0e"},
            {"label": "Critical (5%)", "value": 5, "color": "#d62728"}
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 19,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "RDS CPU Utilization",
        "view": "timeSeries",
        "stacked": false,
        "region": "eu-north-1",
        "metrics": [
          ["AWS/RDS", "CPUUtilization", "DBInstanceIdentifier", "cirkelline-system-db", {"stat": "Average", "period": 60}]
        ],
        "annotations": {
          "horizontal": [
            {"label": "Warning", "value": 70, "color": "#ff7f0e"},
            {"label": "Critical", "value": 80, "color": "#d62728"}
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 8,
      "y": 19,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "RDS Database Connections",
        "view": "timeSeries",
        "stacked": false,
        "region": "eu-north-1",
        "metrics": [
          ["AWS/RDS", "DatabaseConnections", "DBInstanceIdentifier", "cirkelline-system-db", {"stat": "Average", "period": 60}]
        ],
        "annotations": {
          "horizontal": [
            {"label": "Max (100)", "value": 100, "color": "#d62728"}
          ]
        }
      }
    },
    {
      "type": "metric",
      "x": 16,
      "y": 19,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "RDS Free Storage (GB)",
        "view": "timeSeries",
        "stacked": false,
        "region": "eu-north-1",
        "metrics": [
          [{"expression": "m1/1073741824", "label": "Free Storage GB", "id": "e1"}],
          ["AWS/RDS", "FreeStorageSpace", "DBInstanceIdentifier", "cirkelline-system-db", {"stat": "Average", "period": 60, "id": "m1", "visible": false}]
        ],
        "annotations": {
          "horizontal": [
            {"label": "Warning (10GB)", "value": 10, "color": "#ff7f0e"},
            {"label": "Critical (5GB)", "value": 5, "color": "#d62728"}
          ]
        }
      }
    },
    {
      "type": "alarm",
      "x": 0,
      "y": 25,
      "width": 24,
      "height": 3,
      "properties": {
        "title": "Alarm Status",
        "alarms": [
          "arn:aws:cloudwatch:eu-north-1:710504360116:alarm:cirkelline-ecs-cpu-high",
          "arn:aws:cloudwatch:eu-north-1:710504360116:alarm:cirkelline-ecs-memory-high",
          "arn:aws:cloudwatch:eu-north-1:710504360116:alarm:cirkelline-alb-5xx-errors",
          "arn:aws:cloudwatch:eu-north-1:710504360116:alarm:cirkelline-alb-latency-high",
          "arn:aws:cloudwatch:eu-north-1:710504360116:alarm:cirkelline-rds-cpu-high"
        ]
      }
    }
  ]
}
